# 73-矩阵置零

## 题述

![image-20210831151400827](http://happygoing.oss-cn-beijing.aliyuncs.com/img/image-20210831151400827.png)

## 浅析

> 在[计算机科学](https://baike.baidu.com/item/计算机科学/9132)中，一个原地算法（in-place  algorithm）是一种使用小的，固定数量的额外之空间来转换资料的算法。当算法执行时，输入的资料通常会被要输出的部分覆盖掉。不是原地算法有时候称为非原地（not-in-place）或不得其所（out-of-place）。

可以先画个图分析一下

利用两个flag记录第一行第一列是否有0

遍历除第一行第一列以外的矩阵元素，如果有元素为0，则将对应的第一行第一列的位置置为0

同样遍历除第一行第一列以外的矩阵元素，如果matrix[i] [j]所在位置的第一行第一列有任意一个位置为0

那么哪个位置将被置为0

最后再根据两个flag决定是否将第一行第一列置为0

## 代码

```c++
class Solution {
public:
    void setZeroes(vector<vector<int>>& matrix) 
    {
        if(matrix.size()==0 || matrix[0].size()==0) return;
        bool rowFLag=false,colFlag=false;   //两个flag记录第一行第一列是否有0
        int rows=matrix.size();
        int cols=matrix[0].size();

        //看第一列是否有0
        for(int i=0;i<rows;++i)
        {
            if(matrix[i][0]==0)
            {
                colFlag=true;
                break;
            }
        }

        //看第一行是否有0
        for(int i=0;i<cols;++i)
        {
            if(matrix[0][i]==0)
            {
                rowFLag=true;
                break;
            }
        }

        //遍历其余矩阵元素，若有元素为0，则将对应的第一行第一列的位置置为0
        for(int i=1;i<rows;++i)
        {
            for(int j=1;j<cols;++j)
            {
                if(matrix[i][j]==0)
                {
                    matrix[i][0]=0;
                    matrix[0][j]=0;
                }
            }
        }

        //遍历其余元素并将标志为true的对应位置置为0
        for(int i=1;i<rows;++i)
        {
            for(int j=1;j<cols;++j)
            {
                if(matrix[i][0]==0 || matrix[0][j]==0)
                {
                    matrix[i][j]=0;
                }
            }
        }

        //看第一列是否有0，有0则将该列置为0
        if(colFlag)
        {
            for(int i=0;i<rows;++i)
            {
                matrix[i][0]=0;
            }
        }

        //看第一行是否有0，有0则将该列置为0
        if(rowFLag)
        {
            for(int i=0;i<cols;++i)
            {
                matrix[0][i]=0;
            }
        }
    }
};
```



## AC

![image-20210831151224331](http://happygoing.oss-cn-beijing.aliyuncs.com/img/image-20210831151224331.png)