# 232-用栈实现队列

## 题述

![image-20220314083831366](https://happygoing.oss-cn-beijing.aliyuncs.com/img/image-20220314083831366.png)

## 思路

​	我们使用了两个栈，一个是输入栈，一个是输出栈

![232.用栈实现队列版本2](https://code-thinking.cdn.bcebos.com/gifs/232.%E7%94%A8%E6%A0%88%E5%AE%9E%E7%8E%B0%E9%98%9F%E5%88%97%E7%89%88%E6%9C%AC2.gif)

​	在push数据的时候，只要数据放进输入栈就好，**但在pop的时候，操作就复杂一些，输出栈如果为空，就把进栈数据全部导入进来（注意是全部导入）**，再从出栈弹出数据，如果输出栈不为空，则直接从出栈弹出数据就可以了。

## 题解

### C++

```C++
class MyQueue {
public:
    stack<int> stIn;
    stack<int> stOut;

    //构造函数
    MyQueue() 
    {

    }
    
    //入队
    void push(int x) 
    {   
        stIn.push(x);
    }
    
    int pop() 
    {
        //stOut为空时，才从stIn中导入数据
        if(stOut.empty())
        {
            while(!stIn.empty())
            {
                 // 从stIn导入数据直到stIn为空
                stOut.push(stIn.top());
                stIn.pop();
            }
        }
        int result = stOut.top();
        stOut.pop();
        return result;
    }
    
    int peek() 
    {
        int result=this->pop();
        stOut.push(result);    //peek操作只取值不弹出
        return result;
    }
    
    bool empty() 
    {
        if(stIn.empty()&&stOut.empty())
        {
            return true;
        }
        else
        {
            return false;
        }
    }
};

/**
 * Your MyQueue object will be instantiated and called as such:
 * MyQueue* obj = new MyQueue();
 * obj->push(x);
 * int param_2 = obj->pop();
 * int param_3 = obj->peek();
 * bool param_4 = obj->empty();
 */
```

![image-20220314083813049](https://happygoing.oss-cn-beijing.aliyuncs.com/img/image-20220314083813049.png)

### Python

```python
class MyQueue:

    def __init__(self):
        """
        使用两个栈 stIn和stOut
        stIn负责push操作
        stOut负责pop操作
        """
        self.stIn = []
        self.stOut = []

    def push(self, x: int) -> None:
        self.stIn.append(x)


    def pop(self) -> int:
        if self.empty():
            return None
        if self.stOut:
            return self.stOut.pop()
        else:
            for i in range(len(self.stIn)):
                self.stOut.append(self.stIn.pop())
            return self.stOut.pop()


    def peek(self) -> int:
        res = self.pop()
        self.stOut.append(res)
        return res

    def empty(self) -> bool:
        return not (self.stIn or self.stOut)


# Your MyQueue object will be instantiated and called as such:
# obj = MyQueue()
# obj.push(x)
# param_2 = obj.pop()
# param_3 = obj.peek()
# param_4 = obj.empty()
```



## 思考

​	学会复用代码